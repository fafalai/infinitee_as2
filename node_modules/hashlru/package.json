{
  "_args": [
    [
      {
        "raw": "hashlru@^2.0.0",
        "scope": null,
        "escapedName": "hashlru",
        "name": "hashlru",
        "rawSpec": "^2.0.0",
        "spec": ">=2.0.0 <3.0.0",
        "type": "range"
      },
      "/Users/ianwu/WebStormProjects/as1/node_modules/mmdb-reader"
    ]
  ],
  "_from": "hashlru@>=2.0.0 <3.0.0",
  "_id": "hashlru@2.2.1",
  "_inCache": true,
  "_location": "/hashlru",
  "_nodeVersion": "6.5.0",
  "_npmOperationalInternal": {
    "host": "s3://npm-registry-packages",
    "tmp": "tmp/hashlru-2.2.1.tgz_1516310221670_0.510313130915165"
  },
  "_npmUser": {
    "name": "dominictarr",
    "email": "dominic.tarr@gmail.com"
  },
  "_npmVersion": "4.6.1",
  "_phantomChildren": {},
  "_requested": {
    "raw": "hashlru@^2.0.0",
    "scope": null,
    "escapedName": "hashlru",
    "name": "hashlru",
    "rawSpec": "^2.0.0",
    "spec": ">=2.0.0 <3.0.0",
    "type": "range"
  },
  "_requiredBy": [
    "/mmdb-reader"
  ],
  "_resolved": "https://registry.npmjs.org/hashlru/-/hashlru-2.2.1.tgz",
  "_shasum": "10f2099a0d7c05a40f2beaf5c1d39cf2f7dabf36",
  "_shrinkwrap": null,
  "_spec": "hashlru@^2.0.0",
  "_where": "/Users/ianwu/WebStormProjects/as1/node_modules/mmdb-reader",
  "author": {
    "name": "'Dominic Tarr'",
    "email": "dominic.tarr@gmail.com",
    "url": "dominictarr.com"
  },
  "bugs": {
    "url": "https://github.com/dominictarr/hashlru/issues"
  },
  "dependencies": {},
  "description": "simpler faster substitute for LRU",
  "devDependencies": {
    "istanbul": "^0.4.5"
  },
  "directories": {},
  "dist": {
    "shasum": "10f2099a0d7c05a40f2beaf5c1d39cf2f7dabf36",
    "tarball": "https://registry.npmjs.org/hashlru/-/hashlru-2.2.1.tgz"
  },
  "gitHead": "9070bcc61cf779aae0906a51f26052bcacf31719",
  "homepage": "https://github.com/dominictarr/hashlru",
  "license": "MIT",
  "maintainers": [
    {
      "name": "davidmarkclements",
      "email": "huperekchuno@googlemail.com"
    },
    {
      "name": "dominictarr",
      "email": "dominic.tarr@gmail.com"
    },
    {
      "name": "kikobeats",
      "email": "josefrancisco.verdu@gmail.com"
    }
  ],
  "name": "hashlru",
  "optionalDependencies": {},
  "readme": "# hashlru\n\nSimpler, faster LRU cache algorithm\n\nA Least Recently Used cache is used to speedup requests to a key-value oriented resource,\nwhile making a bounded memory commitment.\n\nI've recently [benchmarked the various lru implementations available on npm](https://github.com/dominictarr/bench-lru)\nand found wildly varing performance. There where some that performed well overall,\nand others that performed extremely well in some cases, but poorly in others, due to\ncompromises made to maintain correctness.\n\nAfter writing the benchmark, of course I had to try my hand at my own LRU implementation.\nI soon found a few things, LRUs are quite difficult to implement, first of all contain a linked\nlist. LRUs use a linked list to maintain the order\nthat keys have been accessed, so that when the cache fills, the old values\n(which presumably are the least likely to be needed again) can be removed from the cache.\nLinked Lists are not easy to implement correctly!\n\nThen I discovered why some of the fast algorithms where so slow - they used `delete cache[key]`\nwhich is much slower than `cache[key] = value`, much much slower.\n\nSo, why looking for a way to avoid `delete` I had an idea - have two cache objects,\nand when one fills - create a new one and start putting items in that, and then it's sufficiently\nfull, throw it away. It avoids delete, at at max, only commits us to only N values and between N and 2N keys.\n\nThen I realized with this pattern, you _don't actually need_ the linked list anymore!\nThis makes a N-2N least recently used cache very very simple. This both has performance benefits,\nand it's also very easy to verify it's correctness.\n\nThis algorithm does not give you an ordered list of the N most recently used items,\nbut you do not really need that! The property of dropping the least recent items is still preserved.\n\nsee a [benchmark](https://github.com/dominictarr/bench-lru) of this against\nthe other LRU implementations on npm.\n\n## example\n\n``` js\nvar HLRU = require('hashlru')\nvar lru = HLRU(100)\nlru.set(key, value)\nlru.get(key)\n```\n\n## algorithm\n\ncreate two caches - `old_cache` and `new_cache`, and a counter, `size`.\n\nWhen an `key, value` pair is added, if `key` is already in `new_cache` update the value,\nnot currently in `new_cache`, set `new_cache[key] = value`.\nIf the key was _not_ already in `new_cache` then `size` is incremented.\nIf `size > max`, move the `old_cache = new_cache`, reset `size = 0`, and initialize a new `new_cache={}`\n\nTo get a `key`, check if `new_cache` contains key, and if so, return it.\nIf not, check if it is in `old_cache` and if so, move that value to `new_cache`, and increment `size`.\nIf `size > max`, move the `old_cache = new_cache`, reset `size = 0`, and initialize a new `new_cache={}`\n\n## complexity\n\nWrites are O(1) on average, like a hash table.\n\nWhen implemented in a garbage collected language, the old cache is thrown away when the new cache is\nfull. To better manage memory usage, it could also be implemented as two fixes sized hash tables.\nIn this case, instead of discarding the old cache, it would be zeroed. This means at most every N\nwrites when the caches are rotated, that write will require N operations (to clear the old cache)\n\nThis still averages out to O(1) but it does cost O(N) but only every N writes (except for updates)\nso N/N is still 1.\n\n## HashLRU (max) => lru\n\ninitialize a lru object.\n\n### lru.get (key) => value | undefined\n\nReturns the value in the cache, or `undefined` if the value is not in the cache.\n\n### lru.set(key, value)\n\nupdate the value for key.\n\n### lru.has(key) => boolean\n\nChecks if the `key` is in the cache.\n\n### lru.remove(key)\n\nRemoves the `key` from the cache.\n\n### lru.clear()\n\nEmpties the entire cache.\n\n## License\n\nMIT\n\n\n\n\n",
  "readmeFilename": "README.md",
  "repository": {
    "type": "git",
    "url": "git://github.com/dominictarr/hashlru.git"
  },
  "scripts": {
    "cov": "istanbul cover test/*.js",
    "test": "set -e; for t in test/*.js; do node $t; done"
  },
  "version": "2.2.1"
}
